<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Globe 3D ECharts</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background: #000;
    color: white;
  }
  #main {
    width: 100%;
    height: 100%;
  }
</style>
<!-- ECharts + ECharts-GL -->
<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
</head>
<body>
<div id="main"></div>

<script>
// Initialisation
var chart = echarts.init(document.getElementById('main'));

// Villes spéciales
const villesSpeciales = [
    {name: "Munich", coord: [11.582, 48.135]},
    {name: "Salzbourg", coord: [13.041, 47.809]},
    {name: "Budapest", coord: [19.040, 47.497]},
    {name: "Prague", coord: [14.437, 50.075]},
    {name: "Ratisbonne", coord: [12.096, 49.019]},
    {name: "Ulm", coord: [9.993, 48.401]},
    {name: "Vienne", coord: [16.373, 48.208]}
];

// Exemple de trajet (à remplacer par tes données)
const trajets = [
    {
        coords: [
            [11.582, 48.135], // Munich
            [13.041, 47.809], // Salzbourg
            [16.373, 48.208]  // Vienne
        ],
        color: 'red'
    }
];

// Option du globe
var option = {
    backgroundColor: '#000',
    globe: {
        baseTexture: 'https://echarts.apache.org/examples/data-gl/asset/world.topo.bathy.200401.jpg',
        heightTexture: 'https://echarts.apache.org/examples/data-gl/asset/bathymetry_bw_composite_4k.jpg',
        shading: 'lambert',
        environment: '#000',
        viewControl: {
            autoRotate: false,
            targetCoord: [10, 50],
            zoomSensitivity: 2
        },
        light: {
            main: { intensity: 1.5 },
            ambient: { intensity: 0.1 }
        },
        layers: [{
            type: 'blend',
            blendTo: 'emission',
            texture: 'https://echarts.apache.org/examples/data-gl/asset/starfield.jpg'
        }]
    },
    series: [
        {
            type: 'scatter3D',
            coordinateSystem: 'globe',
            symbol: 'circle',
            symbolSize: 8,
            itemStyle: { color: 'red' },
            data: villesSpeciales.map(v => ({
                name: v.name,
                value: v.coord
            }))
        },
        {
            type: 'lines3D',
            coordinateSystem: 'globe',
            effect: {
                show: true,
                trailWidth: 4,
                trailLength: 0.2,
                trailOpacity: 1,
                trailColor: 'rgba(255,255,255,0.5)'
            },
            lineStyle: {
                width: 2,
                opacity: 0.6
            },
            data: trajets.map(t => ({
                coords: t.coords,
                lineStyle: { color: t.color }
            }))
        }
    ]
};

// Appliquer l'option
chart.setOption(option);
</script>
</body>
</html>
